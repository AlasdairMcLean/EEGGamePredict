clear all; close all; clc
diskPath = 'D:/ARL/data';
metaDirName = 'avi/downsampled/';

playerDirNames = {'/015/play/','/015/bci/','/015/watch/',...
   '/016/play/','/016/bci/','/016/watch/',...
   '/017/play/','/017/bci/','/017/watch/',...
   '/018/play/','/018/bci/','/018/watch/',...
   '/019/play/','/019/bci/','/019/watch/',...
   '/020/play/','/020/bci/','/020/watch/',...
   '/021/play/','/021/bci/','/021/watch/',...
   '/022/play/','/022/bci/','/022/watch/',...
   '/023/play/','/023/bci/','/023/watch/',...
   '/024/play/','/024/bci/','/024/watch/',...
   '/025/play/','/025/bci/','/025/watch/',...
   '/026/play/','/026/bci/','/026/watch/',...
   '/027/play/','/027/bci/','/027/watch/',...
   '/028/play/','/028/bci/','/028/watch/',...
   '/029/play/','/029/bci/','/029/watch/',...
   '/030/play/','/030/bci/','/030/watch/',...
   '/031/play/','/031/bci/','/031/watch/',...
   '/032/play/','/032/bci/','/032/watch/',...
   '/033/play/','/033/bci/','/033/watch/',...
   '/034/play/','/034/bci/','/034/watch/',...
   '/035/play/','/035/bci/','/035/watch/',...
   };
nDirs=numel(playerDirNames);

for d=1:nDirs
    playerDirName=playerDirNames{d};
    videoFilenames=dir([diskPath playerDirName metaDirName '*.avi']);
    nVids=numel(videoFilenames);
    for v=1:nVids
        [d,v]
        videoFileName=videoFilenames(v).name
        inputVideoFilePath = [diskPath playerDirName metaDirName videoFileName];
        outputFilePath=['../../data' playerDirName 'mat/' videoFileName(1:end-4) '-features-' date '.mat'];
        if ~exist(outputFilePath), mkdir(['../../data' playerDirName 'mat/']); end
        features = extractStimulusFeatures(inputVideoFilePath,outputFilePath);
    end
end
